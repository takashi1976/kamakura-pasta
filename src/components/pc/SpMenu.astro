---
import data from "@data/data.json";
import X from "phosphor-astro/X.astro";
---

<!-- spmenu -->
<nav
  x-cloak
  class="fixed translate-x-full h-svh min-h-svh w-full top-0 md:max-w-md right-0 bg-[#8A6B42] z-[9999] overflow-hidden duration-300 transition"
  :class="{ 'translate-x-0': showSPMenu, 'translate-x-full': !showSPMenu }"
>
  <button
    aria-label={`閉じる`}
    x-on:click="showSPMenu=false"
    class="absolute z-50 right-0 top-0 size-12 md:size-16 cursor-pointer flex_ items-center justify-center p-2 md:hidden_ text-white duration-200 transition"
  >
    <X class="size-8 md:size-12 text-[#fff]" />
  </button>
  <div
    class="bg-red-300_ w-full h-full flex items-center jutify-center px-4 md:px-8 max-w-screen-md md:mx-auto"
  >
    <div class="w-full">
      <div class="bg-white rounded-md py-6 mb-4 w-full">
        <img
          src="/img/common/logo.png"
          alt="西日暮里はやし歯科"
          width="570"
          height="80"
          class="w-full md:w-auto md:h-[36px] mx-auto"
        />
      </div>

      <ul class="flex flex-col items-center justify-start w-full bg-green-400_">
        {
          data.header.navLinks_sp.map((link) => (
            <li class=" lg:text-lg w-full z-50 relative text-base   py-2 px-4 text-center flex items-center justify-center ">
              <a
                href={link.href}
                x-on:click="showSPMenu=false"
                class={` ${link.isButton ? "mt-4 font-bold max-w-[300px] md:max-w-auto  w-full border-1 border-[#fff] text-[#fff] rounded-sm px-8 lg:px-8 py-2 " : "font-normal text-[#fff]"}`}
              >
                {link.text}
              </a>
            </li>
          ))
        }

        {
          data.header.navLinks_sp2.map((link) => (
            <li class=" lg:text-lg w-full z-50 relative text-base   py-2 px-4 text-center flex items-center justify-center ">
              <a
                href={data.cta.url}
                target="_blank"
                x-on:click="showSPMenu=false"
                class={` ${link.isButton ? "mt-4 font-bold max-w-[300px] md:max-w-auto  w-full border-1 border-[#fff] text-[#fff] rounded-sm px-8 lg:px-8 py-2 " : "font-normal text-[#fff]"}`}
              >
                {link.text}
              </a>
            </li>
          ))
        }
      </ul>
    </div>
  </div>
</nav>
<!-- /spmenu -->
